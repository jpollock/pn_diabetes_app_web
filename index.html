<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">    

    <title>Hello, world!</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline;
    }

    /* HTML5 display-role reset for older browsers */
    article,
    aside,
    details,
    figcaption,
    figure,
    footer,
    header,
    hgroup,
    menu,
    nav,
    section {
        display: block;
    }

    body {
        line-height: 1;
    }

    ol,
    ul {
        list-style: none;
    }

    blockquote,
    q {
        quotes: none;
    }

    blockquote:before,
    blockquote:after,
    q:before,
    q:after {
        content: '';
        content: none;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0;
    }

    @import url(https://fonts.googleapis.com/css?family=Lato:400,700);
    *,
    *:before,
    *:after {
        box-sizing: border-box;
    }

    body {
        background: transparent;
        font: 14px/20px "Lato", Arial, sans-serif;
        padding: 0;
        margin: 0;
        color: white;
    }

    .container {
        margin: 0 auto;
        border-radius: 5px;
        background-color: #F2F5F8;
    }

    .people-list {
        background: #444753;
        /*width: 260px;*/
        /*position: absolute;*/
        /*z-index: 1;*/
        /*top: 250px;*/
        left: 0;
        bottom: 0;
        overflow-y: auto;
    }

    .people-list .search {
        padding: 20px;
    }

    .people-list input {
        border-radius: 3px;
        border: none;
        padding: 14px;
        color: white;
        background: #6A6C75;
        width: 90%;
        font-size: 14px;
    }

    .people-list .fa-search {
        position: relative;
        left: -25px;
    }

    .people-list ul {
        padding: 20px;
    }

    .people-list ul li {
        padding-bottom: 20px;
    }

    .people-list img {
        float: left;
    }

    .people-list .about {
        float: left;
        margin-top: 8px;
    }

    .people-list .about {
        padding-left: 8px;
    }

    .people-list .status {
        color: #92959E;
    }

    .chat {
        /*position: absolute;
        top: 300px;
        left: 260px;*/
        bottom: 0;
        right: 0;
        z-index: 0;
        background: #F2F5F8;
        border-top-right-radius: 5px;
        border-bottom-right-radius: 5px;
        color: #434651;
    }

    .chat .chat-header {
        padding: 20px;
        border-bottom: 2px solid white;
        /*position: absolute;*/
        top: 250px;
        right: 0;
        left: 0;
    }

    .chat .chat-header img {
        float: left;
    }

    .chat .chat-header .chat-about {
        float: left;
        padding-left: 10px;
        margin-top: 6px;
    }

    .chat .chat-header .chat-with {
        font-weight: bold;
        font-size: 10px;
    }

    .chat .chat-header .chat-num-messages {
        color: #92959E;
    }

    .chat .chat-header .fa-star {
        float: right;
        color: #D8DADF;
        font-size: 12px;
        margin-top: 12px;
    }

    .chat .chat-history {
        /*position: absolute;*/
        top: 97;
        left: 0;
        right: 0;
        bottom: 136;
        padding: 30px 30px 20px;
        border-bottom: 2px solid white;
        overflow-y: scroll;
    }

    .chat .chat-history .message-data {
        margin-bottom: 15px;
    }

    .chat .chat-history .message-data-time {
        color: #a8aab1;
        padding-left: 6px;
    }

    .chat .chat-history .message {
        color: white;
        padding: 18px 20px;
        line-height: 26px;
        font-size: 12px;
        border-radius: 7px;
        margin-bottom: 30px;
        width: 90%;
        position: relative;
    }

    .chat .chat-history .message em {
        font-style: italic;
    }

    .chat .chat-history .message strong {
        font-weight: bold;
    }

    .chat .chat-history .message s {
        text-decoration: line-through;
    }

    .chat .chat-history .message ul {
        list-style-type: disc;
        margin-left: 18px;
    }

    .chat .chat-history .message ol {
        list-style-type: decimal;
        margin-left: 18px;
    }

    .chat .chat-history .message s {
        text-decoration: line-through;
    }

    .chat .chat-history .message p {
        display: inline-block;
    }

    .chat .chat-history .message:after {
        bottom: 100%;
        left: 7%;
        border: solid transparent;
        content: " ";
        height: 0;
        width: 0;
        /*position: absolute;*/
        pointer-events: none;
        border-bottom-color: #86BB71;
        border-width: 10px;
        margin-left: -10px;
    }

    .chat .chat-history .my-message {
        background: #86BB71;
    }

    .chat .chat-history .other-message {
        background: #94C2ED;
    }

    .chat .chat-history .other-message:after {
        border-bottom-color: #94C2ED;
        left: 93%;
    }

    .chat .chat-message {
        /*position: absolute;*/
        bottom: 0;
        left: 0;
        right: 0;
        padding: 30px;
    }

    .chat .chat-message textarea {
        width: 100%;
        border: none;
        padding: 10px 20px;
        font: 14px/22px "Lato", Arial, sans-serif;
        margin-bottom: 10px;
        border-radius: 5px;
        resize: none;
    }

    .chat .chat-message .fa-file-o,
    .chat .chat-message .fa-file-image-o {
        font-size: 16px;
        color: gray;
        cursor: pointer;
    }

    .chat .chat-message button {
        float: right;
        color: #94C2ED;
        font-size: 16px;
        text-transform: uppercase;
        border: none;
        cursor: pointer;
        font-weight: bold;
        background: #F2F5F8;
    }

    .chat .chat-message button:hover {
        color: #75b1e8;
    }

    .online,
    .offline,
    .me {
        margin-right: 3px;
        font-size: 10px;
    }

    .online {
        color: #86BB71;
    }

    .offline {
        color: #E38968;
    }

    .me {
        color: #94C2ED;
    }

    .align-left {
        text-align: left;
    }

    .align-right {
        text-align: right;
    }

    .float-right {
        float: right;
    }

    .clearfix:after {
        visibility: hidden;
        display: block;
        font-size: 0;
        content: " ";
        clear: both;
        height: 0;
    }

    @media (max-width:800px) {
        .people-list {
            display: none;
        }
        .chat {
            left: 0;
        }
    }
    </style>    
  </head>
  <body>
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
      <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Type 1 Diabetes Manager</a>
      
    </nav>

    <div class="container-fluid">
      <div class="row">
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h2">Dashboard</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group mr-2">
                <button class="btn btn-sm btn-outline-secondary">Share</button>
                <button class="btn btn-sm btn-outline-secondary">Export</button>
              </div>
              <button class="btn btn-sm btn-outline-secondary dropdown-toggle">
                <span data-feather="calendar"></span>
                This week
              </button>
            </div>
          </div>
<script type="text/javascript" src="https://pubnub.github.io/eon/v/eon/1.0.0/eon.js"></script>
<link type="text/css" rel="stylesheet" href="https://pubnub.github.io/eon/v/eon/1.0.0/eon.css" />




        </div>        
        </main>
      </div>
      <div class="row">
          <div class="col-sm-2">
            <div class="people-list" id="people-list">
                <ul class="list">
                </ul>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="chat">
                <div class="chat-message clearfix">
                    <textarea name="message-to-send" id="message-to-send" placeholder="Type your message" rows="1"></textarea>
                    <i class="fa fa-file-o"></i> &nbsp;&nbsp;&nbsp;
                    <i class="fa fa-file-image-o"></i>
                    <button>Send</button>
                </div>

                <div class="chat-header clearfix">
                    <div class="card-hearder">
                        <span class = "batch badge-pill badge-success float-right" id="typing"></span>
                    </div>
                    <i class="fa fa-star float-right"></i>
                </div>
                <div class="chat-history">
                    <ul></ul>
                </div>
                <!-- end chat-message -->
            </div>
          </div>
            <!-- end chat -->
          <div class="col-sm-7">
            <div id="chart"></div>
          </div>
      </div>

    </div>

<script type="text/javascript">
var __eon_pubnub = new PubNub({
  subscribeKey: "sub-c-534d5c42-6f49-11e8-80d3-e2460f47e7ae"
});
var __eon_cols = ["bg"]; 
var __eon_labels = {}; 
chart = eon.chart({
  pubnub: __eon_pubnub,
  channels: ["Channel-tc6zzj5xi"],
  history: true,
  flow: true,
  rate: 1000,
  limit: 50,
  //xType: 'custom',
  //xId: 'x',
  generate: {
    bindto: "#chart",
    data: {
      colors: {"bg":"#D70060"},
      type: "spline"
    },
    transition: {
      duration: 250
    },
    axis: {
      x: {
        label: "",
        tick: {
            rotate: 75,
            multiline: false
        }
      },
      y: {
        label: ""
      }
    },
    grid: {
      x: {
        show: false 
      },
      y: {
        show: false 
      }
    },
    tooltip: {
     show: true
    },
    point: {
      show: true
    }
  },
  transform: function(message) {
    var message = eon.c.flatten(message.eon);
    var o = {};
    for(index in message) {
      if(__eon_cols.indexOf(index) > -1){
        o[__eon_labels[index] || index] = message[index];
      }
    }
    return {
      eon: o
    };
  }
});
</script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.0/handlebars.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.1.1/list.min.js"></script>
    <script id="message-template" type="text/x-handlebars-template">
        <li class="clearfix" data-order={{tt}}>
            <div class="message-data align-right">
                <span class="message-data-time">{{time}}</span> &nbsp; &nbsp;
                <span class="message-data-name">{{user.first}}</span> <i class="fa fa-circle me"></i>
            </div>
            <div class="message other-message float-right">
                {{{messageOutput}}}
            </div>
        </li>
    </script>
    <script id="message-response-template" type="text/x-handlebars-template">
        <li data-order={{tt}}>
            <div class="message-data">
                <span class="message-data-name"><i class="fa fa-circle online"></i> {{user.first}}</span>
                <span class="message-data-time">{{time}}</span>
            </div>
            <div class="message my-message">
                {{{messageOutput}}}
            </div>
        </li>
    </script>
    <script id="person-template" type="text/x-handlebars-template">
        <li class="clearfix">
            <div class="about">
                <div class="name">{{full}}</div>
                <div class="status">
                    {{#if online}}
                    <i class="fa fa-circle online"></i> online {{else}}
                    <i class="fa fa-circle offline"></i> {{lastSeen}} min ago {{/if}}
                </div>
            </div>
        </li>
    </script>
    <script src="chat-engine.min.js" type="text/javascript"></script>
    <script src="chat-engine-typing-indicator.js" type="text/javascript"></script>
    <script src="chat-engine-markdown.js" type="text/javascript"></script>

    <script src="chat.js" type="text/javascript"></script>
  </body>
</html>